{"version":3,"sources":["favorite.js"],"names":["vm","Vue","el","data","list","favoriteList","localStorage","getItem","JSON","parse","methods","getData","_this","axios","get","params","then","status","console","log","length","concat","map","item","isFavorite","includes","aid","removeFromFavoriteList","index","findIndex","d","splice","setItem","stringify","mounted"],"mappings":";;AAAA,IAAIA,KAAK,IAAIC,GAAJ,CAAQ;AACfC,MAAI,MADW;AAEfC,QAAM;AACJC,UAAM,EADF;AAEJC,kBAAcC,aAAaC,OAAb,CAAqB,cAArB,IAAuCC,KAAKC,KAAL,CAAWH,aAAaC,OAAb,CAAqB,cAArB,CAAX,CAAvC,GAA0F;AAFpG,GAFS;AAMfG,WAAS;AACPC,aAAS,mBAAW;AAClB,UAAIC,QAAQ,IAAZ;AACAC,YAAMC,GAAN,CAAU,gBAAV,EAA4B;AACxBC,gBAAQ;AACNV,wBAAcC,aAAaC,OAAb,CAAqB,cAArB,IAAuCC,KAAKC,KAAL,CAAWH,aAAaC,OAAb,CAAqB,cAArB,CAAX,CAAvC,GAA0F;AADlG;AADgB,OAA5B,EAKGS,IALH,CAKQ,gBAA4B;AAAA,YAAhBC,MAAgB,QAAhBA,MAAgB;AAAA,YAARd,IAAQ,QAARA,IAAQ;;AAChCe,gBAAQC,GAAR,CAAYhB,IAAZ;AACA,YAAIA,KAAKiB,MAAT,EAAiB;AACfR,gBAAMR,IAAN,GAAaQ,MAAMR,IAAN,CAAWiB,MAAX,CAAkBlB,KAAKmB,GAAL,CAAS,UAASC,IAAT,EAAe;AAAEA,iBAAKC,UAAL,GAAkBZ,MAAMP,YAAN,CAAmBoB,QAAnB,CAA4BF,KAAKG,GAAjC,CAAlB,CAAyD,OAAOH,IAAP;AAAa,WAAhG,CAAlB,CAAb;AACD;AACF,OAVH;AAWD,KAdM;AAePI,4BAAwB,gCAASJ,IAAT,EAAe;AACrC,UAAIK,QAAQ,KAAKvB,YAAL,CAAkBwB,SAAlB,CAA4B,UAASC,CAAT,EAAY;AAClD,eAAOA,EAAEJ,GAAF,GAAQH,KAAKG,GAApB;AACD,OAFW,CAAZ;;AAIA,WAAKrB,YAAL,CAAkB0B,MAAlB,CAAyBH,KAAzB,EAAgC,CAAhC;AACAtB,mBAAa0B,OAAb,CAAqB,cAArB,EAAqCxB,KAAKyB,SAAL,CAAe,KAAK5B,YAApB,CAArC;;AAEAuB,cAAQ,KAAKxB,IAAL,CAAUyB,SAAV,CAAoB,UAASC,CAAT,EAAY;AACtC,eAAOA,EAAEJ,GAAF,KAAUH,KAAKG,GAAtB;AACD,OAFO,CAAR;;AAIA,WAAKtB,IAAL,CAAU2B,MAAV,CAAiBH,KAAjB,EAAwB,CAAxB;AAED;AA7BM,GANM;AAqCfM,WAAS,mBAAW;AAClB,SAAKvB,OAAL;AACD;AAvCc,CAAR,CAAT","file":"favorite.js","sourcesContent":["var vm = new Vue({\n  el: '#app',\n  data: {\n    list: [],\n    favoriteList: localStorage.getItem('favoriteList') ? JSON.parse(localStorage.getItem('favoriteList')) : [],\n  },\n  methods: {\n    getData: function() {\n      var _this = this;\n      axios.get('/favorite/list', {\n          params: {\n            favoriteList: localStorage.getItem('favoriteList') ? JSON.parse(localStorage.getItem('favoriteList')) : []\n          }\n        })\n        .then(function ({ status, data }) {\n          console.log(data);\n          if (data.length) {\n            _this.list = _this.list.concat(data.map(function(item) { item.isFavorite = _this.favoriteList.includes(item.aid); return item }));\n          }\n        })\n    },\n    removeFromFavoriteList: function(item) {\n      let index = this.favoriteList.findIndex(function(d) {\n        return d.aid = item.aid\n      });\n\n      this.favoriteList.splice(index, 1);\n      localStorage.setItem('favoriteList', JSON.stringify(this.favoriteList));\n\n      index = this.list.findIndex(function(d) {\n        return d.aid === item.aid;\n      });\n\n      this.list.splice(index, 1);\n\n    }\n  },\n  mounted: function() {\n    this.getData();\n  }\n});"]}