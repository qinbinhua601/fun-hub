{"version":3,"sources":["base.js"],"names":["eventHub","Vue","navView","el","name","data","showNav","videoCount","created","$on","newVideoCount","component","template","props","item","type","Object","index","Number","row","methods","onFavoriteClick","isFavorite","$emit","computed","getDate","moment","updated","format","touch","document","documentElement","navigator","maxTouchPoints","msMaxTouchPoints","body","setAttribute","onscroll","_","debounce","$toTop","getElementById","scrollTop","style","display","leading","onclick","e","stopPropagation"],"mappings":";;AAAA,IAAIA,WAAW,IAAIC,GAAJ,EAAf;;AAEA;AACA,IAAIC,UAAU,IAAID,GAAJ,CAAQ;AACpBE,MAAI,UADgB;AAEpBC,QAAM,SAFc;AAGpBC,QAAM;AACJC,aAAS,KADL;AAEJC,gBAAY;AAFR,GAHc;AAOpBC,SAPoB,qBAOV;AAAA;;AACRR,aAASS,GAAT,CAAa,oBAAb,EAAmC,yBAAiB;AAClD,YAAKF,UAAL,GAAkBG,aAAlB;AACD,KAFD;AAGD;AAXmB,CAAR,CAAd;;AAcA;AACAT,IAAIU,SAAJ,CAAc,MAAd,EAAsB;AACpBC,o4BADoB;AAmBpBC,SAAO;AACLC,UAAM;AACJC,YAAMC;AADF,KADD;AAILC,WAAO;AACLF,YAAMG;AADD,KAJF;AAOLC,SAAK;AACHJ,YAAMG;AADH;AAPA,GAnBa;AA8BpBE,WAAS;AACPC,mBADO,2BACSP,IADT,EACe;AACpBA,WAAKQ,UAAL,GAAkB,CAACR,KAAKQ,UAAxB;AACA,UAAIR,KAAKQ,UAAT,EAAqB;AACnB,aAAKC,KAAL,CAAW,yBAAX,EAAsCT,IAAtC;AACD,OAFD,MAEO;AACL,aAAKS,KAAL,CAAW,8BAAX,EAA2CT,IAA3C;AACD;AACF;AARM,GA9BW;AAwCpBU,YAAU;AACRC,WADQ,qBACE;AACR,aAAOC,OAAO,KAAKZ,IAAL,CAAUa,OAAjB,EAA0BC,MAA1B,CAAiC,qBAAjC,CAAP;AACD;AAHO;AAxCU,CAAtB;;AA+CA;AACA,IAAIC,QACF,kBAAkBC,SAASC,eAA3B,IACAC,UAAUC,cAAV,GAA2B,CAD3B,IAEAD,UAAUE,gBAAV,GAA6B,CAH/B;;AAKA;AACA,IAAI,CAACL,KAAL,EAAY;AACVC,WAASK,IAAT,CAAcC,YAAd,CAA2B,OAA3B,EAAoC,IAApC;AACD;;AAEDN,SAASK,IAAT,CAAcE,QAAd,GAAyBC,EAAEC,QAAF,CACvB,YAAM;AACJ,MAAIC,SAASV,SAASW,cAAT,CAAwB,QAAxB,CAAb;AACA,MAAIX,SAASK,IAAT,CAAcO,SAAd,GAA0B,GAA9B,EAAmC;AACjCF,WAAOG,KAAP,CAAaC,OAAb,GAAuB,OAAvB;AACD,GAFD,MAEO;AACLJ,WAAOG,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACD;AACF,CARsB,EASvB,GATuB,EAUvB;AACEC,WAAS;AADX,CAVuB,CAAzB;;AAeAf,SAASW,cAAT,CAAwB,QAAxB,EAAkCK,OAAlC,GAA4C,UAASC,CAAT,EAAY;AACtDA,IAAEC,eAAF;AACA,OAAKL,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACAd,WAASK,IAAT,CAAcO,SAAd,GAA0B,CAA1B;AACD,CAJD","file":"base.js","sourcesContent":["let eventHub = new Vue();\n\n// #top-nav view\nlet navView = new Vue({\n  el: '#top-nav',\n  name: 'top-nav',\n  data: {\n    showNav: false,\n    videoCount: 0\n  },\n  created() {\n    eventHub.$on('update-video-count', newVideoCount => {\n      this.videoCount = newVideoCount;\n    });\n  }\n});\n\n// define card component\nVue.component('card', {\n  template: `\n    <transition name=\"list\"\n      :enter-active-class=\"['fadeInRight', 'fadeOutLeft', 'bounceIn', 'bounceOut', 'rotateIn', 'rotateOut'][_.random(0,2) * 2]\"\n      :leave-active-class=\"['fadeInRight', 'fadeOutLeft', 'bounceIn', 'bounceOut', 'rotateIn', 'rotateOut'][_.random(0,2) * 2 + 1]\"\n    >\n      <div @click=\"$emit('on-card-click', item.aid)\" class=\"card\">\n        <div>\n          <div class=\"card-image\">\n            <a :href=\"item.url\" target=\"_blank\">\n              <img :src=\"item.img\" class=\"img-responsive\" />\n            </a>\n            <span :class=\"[item.isFavorite ? 'glyphicon-heart' : 'glyphicon-heart-empty']\" @click.stop=\"onFavoriteClick(item)\" class=\"glyphicon\"></span>\n          </div>\n          <h4 class=\"card-title\">{{ item.title }}</h4>\n          <p>{{ getDate }}</p>\n        </div>\n      </div>\n    </transition>`,\n  props: {\n    item: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    row: {\n      type: Number\n    }\n  },\n  methods: {\n    onFavoriteClick(item) {\n      item.isFavorite = !item.isFavorite;\n      if (item.isFavorite) {\n        this.$emit('on-card-add-to-favorite', item);\n      } else {\n        this.$emit('on-card-remove-from-favorite', item);\n      }\n    }\n  },\n  computed: {\n    getDate() {\n      return moment(this.item.updated).format('YYYY-MM-DD HH:mm:ss');\n    }\n  }\n});\n\n// detecting if touch mobile device\nvar touch =\n  'ontouchstart' in document.documentElement ||\n  navigator.maxTouchPoints > 0 ||\n  navigator.msMaxTouchPoints > 0;\n\n// for disabling the hover css effect\nif (!touch) {\n  document.body.setAttribute('class', 'pc');\n}\n\ndocument.body.onscroll = _.debounce(\n  () => {\n    let $toTop = document.getElementById('to-top');\n    if (document.body.scrollTop > 100) {\n      $toTop.style.display = 'block';\n    } else {\n      $toTop.style.display = 'none';\n    }\n  },\n  200,\n  {\n    leading: true\n  }\n);\n\ndocument.getElementById('to-top').onclick = function(e) {\n  e.stopPropagation();\n  this.style.display = 'none';\n  document.body.scrollTop = 0;\n};\n"]}