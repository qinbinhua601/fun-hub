extends layout

block content
  #app.container
    form.form-inline
      .form-group
        label(for="search") Search
        input.form-control(type="text" id="search" placeholder="Search" v-model="searchingText")
    .tv-list
      .row(v-for="i in Math.ceil(filteredList.length / 3)")
        .card.col-md-4.col-sm-6(v-for="item in filteredList.slice((i - 1) * 3, 3 * i)" @click='onCardClick(item.aid)')
          .card-image
            img.img-responsive(:src="item.img")
            span.glyphicon(:class="[item.isFavorite ? 'glyphicon-heart' : 'glyphicon-heart-empty']" @click.stop="addToFavorite(item)")
          h4.card-title {{ item.title }}
          .card-content {{ item.desc }}
      vue-infinite-loading(
        :on-infinite="getMore",
        ref="infiniteLoading",
        spinner="waveDots"
      )
        span(slot="no-more") No more
      button.btn.btn-default.btn-block(@click="getMore")
  script(src="/js/index.js")
